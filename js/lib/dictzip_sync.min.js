!function(r){function e(r){ret="";for(var e=0;e<r.length;e++)ret+=String.fromCharCode(r[e]);return ret}function n(r,e){var n=new Uint8Array(r.byteLength+e.byteLength);return n.set(new Uint8Array(r),0),n.set(new Uint8Array(e),r.byteLength),n.buffer}function t(r,n){for(var t="",a=1;!0;a++){n-=t.length;var i=new Uint8Array(r.slice(n,n+1024*a)),f=Array.prototype.indexOf.call(i,0);if(-1==f&&(f=i.length,0==f))throw new Error("Unexpected end of buffer");if(t+=e(i.subarray(0,f)),f<i.length)break}return t}function a(r){var e=2,n=4,a=8,i=16,f=0,o=new Uint8Array(r,f,10),h={ID1:0,ID2:0,CM:0,FLG:0,MTIME:0,XFL:0,OS:0,FEXTRA:{XLEN:0,SUBFIELDS:[]},FNAME:"",FCOMMENT:"",FHCRC:""};if(31!=o[0]||139!=o[1])throw new Error("Not a gzip header.");if(h.ID1=o[0],h.ID2=o[1],h.CM=o[2],h.FLG=o[3],h.MTIME=o[4]<<0,h.MTIME|=o[5]<<8,h.MTIME|=o[6]<<16,h.MTIME|=o[7]<<24,h.XFL=o[8],h.OS=o[9],f+=10,0!=(h.FLG&n)){for(o=new Uint16Array(r,f,2),h.FEXTRA.XLEN=o[0],f+=2,o=new Uint8Array(r,f,h.FEXTRA.XLEN);;){var u=o[2]+256*o[3];if(subfield={SI1:String.fromCharCode(o[0]),SI2:String.fromCharCode(o[1]),LEN:u,DATA:o.subarray(4,4+u)},h.FEXTRA.SUBFIELDS.push(subfield),o=o.subarray(4+u),0==o.length)break}f+=h.FEXTRA.XLEN}return 0!=(h.FLG&a)&&(h.FNAME=t(r,f),f+=h.FNAME.length),0!=(h.FLG&i)&&(h.FCOMMENT=t(r,f),length+=h.FCOMMENT.length),0!=(h.FLG&e)&&(o=new Uint16Array(r,f,2),h.FHCRC=o[0],f+=2),h.LENGTH=f+1,h}var i=function(){var r=function(r,e){function t(r){i=a(r);for(var e,n=i.FEXTRA.SUBFIELDS,t=!1,o=0;o<n.length;o++)if(e=n[o],"R"==e.SI1||"A"==e.SI2){t=!0;break}if(t){var h=e.DATA;f=h[0]+256*h[1],E=h[2]+256*h[3],F=h[4]+256*h[5];for(var o=0,l=0;F>o&&2*o+6<h.length;o++){var y=h[2*o+6]+256*h[2*o+7];A.push([l,y]),l+=y}return u=!0,!0}throw new Error("Not a dictzip header.")}var i,f,o=r,h=e,u=!1,E=0,F=0,A=[];if(!(h instanceof Function))throw new Error("Given gunzip_func is not a function.");var l=new FileReaderSync;t(l.readAsArrayBuffer(o)),this.read=function(r,e){if(!u)throw new Error("Read attempt before loadend.");"undefined"==typeof r&&(r=0),"undefined"==typeof e&&(e=E*A.length);for(var t=Math.min(Math.floor(r/E),A.length-1),a=Math.min(Math.floor((r+e)/E),A.length-1),f=r-t*E,F=f+e,l=new FileReaderSync,y=new ArrayBuffer(0),M=l.readAsArrayBuffer(o.slice(i.LENGTH+A[t][0],i.LENGTH+A[a][0]+A[a][1])),L=t,c=0;a>=L&&c<M.byteLength;c+=A[L][1],L++){var d=M.slice(c,c+A[L][1]),g=h(d,0,d.byteLength);y=n(y,g)}return y.slice(f,F)}};return r}();r.DictZipFile=i}(this);